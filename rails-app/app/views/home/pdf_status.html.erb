<div class="flex flex-col container items-center justify-center mx-auto mt-28 px-5">
  <h1 class="text-3xl font-bold underline">PDF Generation Status</h1>
  <% if @status['status'] == 'pending' || @status['status'] == 'processing' %>
    <p class="text-center mt-4">PDF generation is in progress. Please wait...</p>
    <p class="text-center">Task ID: <%= @task_id %></p>
    <div class="mt-4 p-4 bg-blue-100 rounded-md">
      <p>Refreshing in 5 seconds...</p>
    </div>
    <script>
      setTimeout(function() {
        window.location.reload();
      }, 5000);
    </script>
  <% elsif @status['status'] == 'completed' %>
    <p class="text-center mt-4 text-green-600 font-bold">PDF generation completed successfully!</p>
    <p class="text-center"><a href="<%= @status['pdf_url'] %>" class="text-blue-500 hover:underline" download="<%= @status['pdf_file_name'] %>">Download PDF</a></p>
    <p class="text-center mt-2"><a href="<%= root_path %>" class="text-gray-500 hover:underline">Go back to home</a></p>
  <% elsif @status['status'] == 'failed' %>
    <p class="text-center mt-4 text-red-600 font-bold">PDF generation failed!</p>
    <p class="text-center">Error: <%= @status['error'] %></p>
    <p class="text-center mt-2"><a href="<%= root_path %>" class="text-gray-500 hover:underline">Go back to home</a></p>
  <% else %>
    <p class="text-center mt-4 text-red-600 font-bold">Unknown status.</p>
    <p class="text-center mt-2"><a href="<%= root_path %>" class="text-gray-500 hover:underline">Go back to home</a></p>
  <% end %>
</div>
